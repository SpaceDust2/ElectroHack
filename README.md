# üöÄ –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ –≤ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–∏

## –û–ø–∏—Å–∞–Ω–∏–µ

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ –ø–æ –±—ã—Ç–æ–≤–æ–º—É —Ç–∞—Ä–∏—Ñ—É. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω—Å–∞–º–±–ª—å ML-–º–æ–¥–µ–ª–µ–π (CatBoost, XGBoost, Random Forest) —Å –∫–æ–Ω—Å–µ–Ω—Å—É—Å–æ–º, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏ –∏ —É–º–Ω–æ–π –∑–∞—â–∏—Ç–æ–π —á–µ—Å—Ç–Ω—ã—Ö –∂–∏—Ç–µ–ª–µ–π.

-   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–π –∏ –∞–Ω—Å–∞–º–±–ª–µ–≤–æ–π –º–æ–¥–µ–ª–∏
-   –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞—â–∏—Ç—ã —É—è–∑–≤–∏–º—ã—Ö –≥—Ä—É–ø–ø
-   –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI –Ω–∞ Streamlit
-   –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
-   –ì–æ—Ç–æ–≤–∞ –∫ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ Docker/–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

-   **feature_engineering.py** ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏–∑ "—Å—ã—Ä—ã—Ö" –¥–∞–Ω–Ω—ã—Ö
-   **model_training.py** ‚Äî –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–¥–∏–Ω–æ—á–Ω–æ–π –∏ –∞–Ω—Å–∞–º–±–ª–µ–≤–æ–π –º–æ–¥–µ–ª–∏
-   **predictor.py** ‚Äî –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω–æ–π –º–æ–¥–µ–ª–∏
-   **ensemble_predictor.py** ‚Äî –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä –¥–ª—è –∞–Ω—Å–∞–º–±–ª—è (–∫–æ–Ω—Å–µ–Ω—Å—É—Å, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ—Ä–æ–≥–∏, –∑–∞—â–∏—Ç–∞)
-   **app.py** ‚Äî Streamlit UI: –æ–±—É—á–µ–Ω–∏–µ, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è, –∞–Ω–∞–ª–∏–∑, —ç–∫—Å–ø–æ—Ä—Ç
-   **config.py** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä–æ–≥–æ–≤, –∑–∞—â–∏—Ç—ã, –ø—É—Ç–µ–π

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å UI:**
    ```bash
    streamlit run app.py
    ```
3. **–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   http://localhost:8501

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

-   –ü–µ—Ä–µ–π—Ç–∏ –≤–æ –≤–∫–ª–∞–¥–∫—É "–°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏"
-   –£–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ –¥–∞–Ω–Ω—ã–º (JSON)
-   –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ
-   –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è —Ñ–∞–π–ª—ã:
    -   `fraud_detection_model.joblib` ‚Äî –æ–¥–∏–Ω–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å
    -   `fraud_detection_model_ensemble.joblib` ‚Äî –∞–Ω—Å–∞–º–±–ª—å (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω)

### 2. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

-   –ü–µ—Ä–µ–π—Ç–∏ –≤–æ –≤–∫–ª–∞–¥–∫—É "–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤"
-   –í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å (–æ–¥–∏–Ω–æ—á–Ω–∞—è –∏–ª–∏ –∞–Ω—Å–∞–º–±–ª—å)
-   –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª, –≤–≤–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–∏–º–µ—Ä
-   –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:
    -   **–ö–æ—Ä–æ—Ç–∫–∏–π** ‚Äî —Ç–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥–Ω—ã–µ –ø–æ–ª—è + isCommercial
    -   **–ü–æ–¥—Ä–æ–±–Ω—ã–π** ‚Äî –≤—Å—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, —Ä–∏—Å–∫–∏, –∫–æ–Ω—Å–µ–Ω—Å—É—Å, –∑–∞—â–∏—Ç–∞
-   –°–∫–∞—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (JSON/CSV)

### 3. –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

-   **–û–¥–∏–Ω–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å:**
    -   –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ, –±–µ–∑ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ –∏ –∑–∞—â–∏—Ç—ã
-   **–ê–Ω—Å–∞–º–±–ª—å:**
    -   –ö–æ–Ω—Å–µ–Ω—Å—É—Å 3 –º–æ–¥–µ–ª–µ–π, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ—Ä–æ–≥–∏, —É–º–Ω–∞—è –∑–∞—â–∏—Ç–∞ (–¥–ª—è –º–Ω–æ–≥–æ–¥–µ—Ç–Ω—ã—Ö, –ø–µ–Ω—Å–∏–æ–Ω–µ—Ä–æ–≤ –∏ —Ç.–¥.)
    -   –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Ä–æ–≤–Ω—è –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏

---

## –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö

### –í—Ö–æ–¥–Ω–æ–π –æ–±—ä–µ–∫—Ç:

```json
{
  "accountId": 1080,
  "address": "...",
  "buildingType": "–ß–∞—Å—Ç–Ω—ã–π",
  "roomsCount": 3,
  "residentsCount": 3,
  "consumption": {"1": 616, "2": 8257, ...}
}
```

### –í—ã—Ö–æ–¥–Ω–æ–π –æ–±—ä–µ–∫—Ç (–∫–æ—Ä–æ—Ç–∫–∏–π):

```json
{
  "accountId": 1080,
  "isCommercial": true,
  "address": "...",
  "buildingType": "–ß–∞—Å—Ç–Ω—ã–π",
  "roomsCount": 3,
  "residentsCount": 3,
  "consumption": {"1": 616, ...}
}
```

### –í—ã—Ö–æ–¥–Ω–æ–π –æ–±—ä–µ–∫—Ç (–ø–æ–¥—Ä–æ–±–Ω—ã–π):

```json
{
  "accountId": 1080,
  "isCommercial": true,
  "fraud_probability": 0.97,
  "fraud_probability_percent": "97.0%",
  "risk_level": "HIGH",
  "interpretation": "...",
  "consensus_details": {...},
  "individual_models": {...},
  ...
}
```

---

## –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Docker

1. **Dockerfile**
    ```dockerfile
    FROM python:3.12
    WORKDIR /app
    COPY requirements.txt .
    RUN pip install --no-cache-dir -r requirements.txt
    COPY . .
    EXPOSE 8501
    CMD ["streamlit", "run", "app.py", "--server.address=0.0.0.0"]
    ```
2. **–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:**
    ```bash
    docker build -t fraud-app .
    docker run -d -p 8501:8501 fraud-app
    ```
3. **–î–æ—Å—Ç—É–ø:**
   http://<ip_—Å–µ—Ä–≤–µ—Ä–∞>:8501

---

## FAQ

**Q: –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ–¥–∏–Ω–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å –æ—Ç –∞–Ω—Å–∞–º–±–ª—è?**

-   –û–¥–∏–Ω–æ—á–Ω–∞—è ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –º–æ–¥–µ–ª—å, –±—ã—Å—Ç—Ä–æ, –±–µ–∑ –∑–∞—â–∏—Ç—ã.
-   –ê–Ω—Å–∞–º–±–ª—å ‚Äî —Ç—Ä–∏ –º–æ–¥–µ–ª–∏, –∫–æ–Ω—Å–µ–Ω—Å—É—Å, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ—Ä–æ–≥–∏, —É–º–Ω–∞—è –∑–∞—â–∏—Ç–∞.

**Q: –ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤—ã–±—Ä–∞—Ç—å?**

-   –ö–æ—Ä–æ—Ç–∫–∏–π ‚Äî –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (—Ç–æ–ª—å–∫–æ isCommercial).
-   –ü–æ–¥—Ä–æ–±–Ω—ã–π ‚Äî –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞, –∞—É–¥–∏—Ç–∞, –æ–±—ä—è—Å–Ω–µ–Ω–∏–π.

**Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞—â–∏—Ç—ã?**

-   –ò–∑–º–µ–Ω–∏ config.py (PROTECTED_CATEGORIES, CAUTION_LEVELS, ENSEMBLE_SETTINGS).

**Q: –ö–∞–∫ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ?**

-   –ò—Å–ø–æ–ª—å–∑—É–π Docker –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏ streamlit —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `--server.address=0.0.0.0`.

---

**–ï—Å–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã ‚Äî —Å–º. –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ –∏–ª–∏ –ø–∏—à–∏ issue!**
